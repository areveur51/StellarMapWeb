@startuml System Overview

skinparam backgroundColor #372963
skinparam activity {
    BackgroundColor #100D23
    BorderColor #00FF9C
    FontColor #ffffff
}
skinparam activityArrowColor #c592ff
skinparam activityStartColor #00FF9C
skinparam activityStopColor #00FF9C
skinparam defaultFontColor #ffffff

skinparam component {
  BackgroundColor #100D23
  BorderColor #00FF9C
  FontColor #ffffff
  ArrowColor #c592ff
}

skinparam cloud {
  BackgroundColor #100D23
  BorderColor #00FF9C
  FontColor #ffffff
}

skinparam database {
  BackgroundColor #100D23
  BorderColor #00FF9C
  FontColor #ffffff
}

title <color:#00FF9C>System Overview</color>

actor User #00FF9C

package "Frontend Layer" #100D23 {
  component "Vue.js + D3.js\nVisualization" as Frontend #00FF9C
}

package "Django Application" #100D23 {
  component "webApp" as WebApp #00FF9C
  component "apiApp" as ApiApp #00FF9C
  component "radialTidyTreeApp" as RadialApp #00FF9C
}

package "Background Services" #100D23 {
  component "Cron Worker\n(run_cron_jobs.py)" as CronWorker #00FF9C
  component "8-Stage Pipeline\n(2-3 min processing)" as Pipeline #00FF9C
}

cloud "External APIs" #100D23 {
  component "Horizon API" as Horizon #00FF9C
  component "Stellar Expert" as Expert #00FF9C
}

database "Astra DB\n(Cassandra)" as DB #00FF9C

User -[#c592ff]-> Frontend : "Views"
Frontend -[#c592ff]-> WebApp : "HTTP"
WebApp -[#c592ff]-> ApiApp : "API Calls"
ApiApp -[#c592ff]-> DB : "Queries\n(88% optimized)"
CronWorker -[#c592ff]-> Pipeline : "Orchestrates"
Pipeline -[#c592ff]-> Horizon : "Fetches Data"
Pipeline -[#c592ff]-> Expert : "Enrichment"
Pipeline -[#c592ff]-> DB : "Stores"

note right of DB
  <color:#00FF9C>Query Optimization:</color>
  • 204 → 24 queries/min
  • 88% reduction
  • Using status__in=[...]
end note

@enduml
